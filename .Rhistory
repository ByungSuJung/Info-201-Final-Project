library(jsonlite)
library(dplyr)
library(httr)
source("api-Keys.R")
base.uri <- "https://www.googleapis.com"
resource <- paste0("/civicinfo","/v2","/representatives")
uri.full <- paste0(base.uri, resource)
address <- "1600 NE 47th st WA 98105"
query.param <- list(address = address, key = civic.api.key)
response <- GET(url = uri.full, query = query.param)
response.content <- content(response, "text")
body <-fromJSON(response.content)
offices <- body$offices
num.of.rep <- unlist(lapply(offices$officialIndices, length))
expanded <- offices[rep(row.names(offices), num.of.rep),]
expanded <- expanded %>%
mutate(index = row_number()-1) %>%
rename(position = name)
officials <- body$officials %>%
mutate(index = row_number()-1)
new.data <- full_join(by = 'index', officials, expanded)
new.data$photoUrl[!is.na(new.data$photoUrl)] <- paste0("![]","(", new.data$photoUrl[!is.na(new.data$photoUrl)],")")
new.data$photoUrl[is.na(new.data$photoUrl)] <- "Not Available"
new.data$name <- paste0("[",new.data$name,"]","(", new.data$urls,")")
new.data$emails <- sub("NULL", "Not Available", new.data$emails)
source("api-Keys.R")
setwd("~/Info-201-Final-Project")
raw.data <- read.csv("./Data/complete.csv")
raw.data <- read.csv("./Data/complete.csv", stringsAsFactors = FALSE)
head(raw.data)
View(head(raw.data))
library(shiny)
library(dplyr)
library(rsconnect)
data <- raw.data %>%
filter(overall >= 70)
data.filter <- function(my_overall) {
filter(raw.data, overall >= my_overall)
}
data.filter(90)
library(shiny)
library(plotly)
